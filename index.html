<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ELLE MAROQUINERIE â€” DÃ©mo</title>
  <style>
    body { font-family: Georgia, serif; background-color:#f6f1eb; margin:0; color:#3e2f1c; }
    header { display:flex; justify-content:space-between; align-items:center; padding:15px 40px; background:#fff; box-shadow:0 2px 4px rgba(0,0,0,0.05); gap:12px; }
    header h1 { font-size:1.2rem; letter-spacing:2px; font-weight:600; margin:0; }
    nav a { color:#3e2f1c; text-decoration:none; margin:0 8px; }
    nav a:hover { text-decoration:underline; }
    .cart-link { font-weight:bold; cursor:pointer; }

    main { text-align:center; padding:40px 0; }
    h2 { font-weight:bold; margin-bottom:10px; }
    p.subtitle { font-style:italic; color:#6a5d4b; margin-bottom:40px; }

    .products { display:flex; flex-wrap:wrap; justify-content:center; gap:30px; padding:0 40px; }
    .card { background:linear-gradient(to bottom,#f8f4ef,#f0e8e0); border-radius:10px; width:260px; padding:15px; box-shadow:0 2px 6px rgba(0,0,0,0.1); cursor:pointer; display:flex; flex-direction:column; align-items:stretch; transition:transform 0.2s; }
    .card:hover { transform:translateY(-5px); }
    .card img { width:100%; height:220px; object-fit:contain; background:#fff; border-radius:6px; border:1px solid #ddd; }
    .card h3 { margin-top:10px; font-size:1rem; }
    .card p { font-size:0.9rem; margin:5px 0 10px; }
    .price { font-weight:bold; margin-top:auto; }
    button { background:#8b5e34; color:#fff; border:none; padding:8px 16px; border-radius:6px; cursor:pointer; font-family:inherit; }
    button:hover { background:#a66d40; }

    footer { text-align:center; padding:20px; font-size:0.9rem; color:#7d6c5f; margin-top:40px; }

    /* Modal produit */
    .modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.4); justify-content:center; align-items:center; padding:20px; }
    .modal[aria-hidden="false"] { display:flex; }
    .modal-content { background:#fff; padding:25px 25px 35px; border-radius:10px; max-width:520px; width:95%; text-align:left; position:relative; max-height:90vh; overflow-y:auto; }
    .modal-content img { width:100%; border-radius:6px; margin-bottom:10px; object-fit:contain; }
    .close { position:absolute; top:10px; right:15px; font-size:1.5rem; cursor:pointer; color:#8b5e34; background:transparent; border:none; }

    /* Cart drawer */
    .cart-drawer { position:fixed; right:0; top:0; height:100vh; width:380px; max-width:95%; background:#fff; box-shadow:-8px 0 24px rgba(0,0,0,0.15); transform:translateX(100%); transition: transform 0.25s ease; z-index:1500; display:flex; flex-direction:column; padding:20px; }
    .cart-drawer[aria-hidden="false"] { transform:translateX(0); }
    .cart-items { flex:1; overflow-y:auto; margin-top:10px; display:grid; gap:12px; }
    .cart-item { display:flex; gap:10px; align-items:center; border-bottom:1px solid #eee; padding-bottom:10px; }
    .cart-item img { width:64px; height:64px; object-fit:cover; border-radius:6px; border:1px solid #ddd; background:#fff; }
    .cart-item .meta { flex:1; text-align:left; }
    .qty-controls { display:flex; gap:6px; align-items:center; }
    .cart-footer { border-top:1px solid #eee; padding-top:12px; margin-top:12px; }
    .cart-footer div { display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
    .cart-footer-buttons { display:flex; gap:8px; margin-top:10px; }

    /* Contact global */
    .contact { text-align:center; padding:40px 20px; background:#fafafa; border-top:1px solid #ddd; margin-top:40px; }
    .contact h2 { margin-bottom:10px; font-size:1.6em; color:#b23b3b; }
    .contact form { max-width:600px; margin:20px auto; display:flex; flex-direction:column; gap:10px; }
    .contact input, .contact textarea { padding:10px; border:1px solid #ccc; border-radius:6px; font-size:1em; }
    .contact button { background-color:#b23b3b; color:white; border:none; padding:10px; border-radius:6px; cursor:pointer; }

    @media(max-width:800px){ header{padding:12px 20px;} .products{gap:16px; padding:0 20px;} }
    @media(max-width:600px){ header{flex-direction:column; gap:10px; align-items:flex-start;} .card{width:100%; max-width:420px;} html{scroll-behavior:smooth;} }

  </style>
</head>
<body>
  <header>
    <h1>ELLE MAROQUINERIE</h1>
    <nav aria-label="Navigation principale">
      <a href="#">Accueil</a> |
      <a href="#">Ã€ propos</a>
    </nav>
    <div id="cartToggle" class="cart-link" role="button" aria-controls="cartDrawer" aria-expanded="false" tabindex="0">ðŸ‘œ Panier (0)</div>
  </header>

  <main>
    <h2>Collection Capsule â€” Ã‰lÃ©gance & SimplicitÃ©</h2>
    <p class="subtitle">Petit aperÃ§u : des sacs pensÃ©s pour durer et (surtout) pour faire tourner les tÃªtes.</p>

    <!-- Section produits -->
    <section id="tous-les-sacs" class="products" aria-label="Liste des produits"></section>

    <!-- Contact -->
    <section id="contact" class="contact">
      <h2>Contact</h2>
      <form action="mailto:contact@ellemaroquinerie.fr" method="post" enctype="text/plain">
        <input type="text" id="name" name="name" placeholder="Votre nom" required>
        <input type="email" id="email" name="email" placeholder="Votre email" required>
        <textarea id="message" name="message" rows="4" placeholder="Votre message..." required></textarea>
        <button type="submit">Envoyer</button>
      </form>
    </section>
  </main>

  <!-- Modal produit -->
  <div class="modal" id="productModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc" aria-hidden="true">
    <div class="modal-content" tabindex="-1">
      <button class="close" id="closeModal" type="button" aria-label="Fermer la fenÃªtre produit">&times;</button>
      <img id="modalImg" src="" alt="">
      <h3 id="modalTitle"></h3>
      <p id="modalDesc"></p>
      <p class="price" id="modalPrice"></p>
      <button id="modalAddBtn" type="button">Ajouter au panier</button>
    </div>
  </div>

  <!-- Cart drawer -->
  <aside class="cart-drawer" id="cartDrawer" role="region" aria-label="Panier" aria-hidden="true">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <h3>Votre panier</h3>
      <button id="closeCartBtn" type="button" aria-label="Fermer le panier" class="close">&times;</button>
    </div>
    <div class="cart-items" id="cartItems"></div>
    <div class="cart-footer">
      <div><strong>Total</strong><strong id="cartTotal">0,00 â‚¬</strong></div>
      <div class="cart-footer-buttons">
        <button id="checkoutBtn" type="button">ProcÃ©der au paiement</button>
        <button id="clearCartBtn" type="button" style="background:#b23b3b;">Vider</button>
      </div>
    </div>
  </aside>

  <footer>Â© 2025 ELLE Maroquinerie â€” DÃ©mo. Paiement non connectÃ©.</footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const products = [
        { img:"assets/p1.jpg", title:"Sac Lydia", desc:"RÃ©f : Elle 01<br>Long 50cm, Larg 15cm", price:"80,00 â‚¬" },
        { img:"assets/p2.jpg", title:"Sac Salma", desc:"RÃ©f : Elle 02<br>Long 50cm, Larg 15cm", price:"80,00 â‚¬" },
        { img:"assets/p3.jpg", title:"Sac Eva", desc:"RÃ©f : PF910<br>Hauteur 45cm, Long 50cm, Larg 17cm", price:"60,00 â‚¬" },
        { img:"assets/p4.jpg", title:"Sac Anna", desc:"RÃ©f : PF909<br>Hauteur 50cm, Long 50cm, Larg 15cm", price:"55,00 â‚¬" },
        { img:"assets/p5.jpg", title:"Pochette Amina", desc:"RÃ©f : PF909<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p6.jpg", title:"Sac Carla", desc:"RÃ©f : 31<br>Hauteur 35cm, Long 35cm, Larg 17cm", price:"40,00 â‚¬" },
        { img:"assets/p7.jpg", title:"Sac Alma", desc:"RÃ©f : MC420<br>Hauteur 25cm, Long 30cm, Larg 8cm", price:"45,00 â‚¬" },
        { img:"assets/p8.jpg", title:"Pochette Livia", desc:"RÃ©f : Ml450<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p9.jpg", title:"Sac Week-end", desc:"Grand format, cuir souple, idÃ©al escapades", price:"89,00 â‚¬" },
        { img:"assets/p10.jpg", title:"Pochette Dora", desc:"RÃ©f : Ml451<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p11.jpg", title:"Pochette Gemma", desc:"RÃ©f : Ml452<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p12.jpg", title:"Sac Lydia (var)", desc:"RÃ©f : Elle 02<br>Long 50cm, Larg 15cm", price:"80,00 â‚¬" },
        { img:"assets/p13.jpg", title:"Pochette Mina", desc:"RÃ©f : Ml452<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p14.jpg", title:"Pochette Enya", desc:"RÃ©f : Ml453<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p15.jpg", title:"Pochette Sia", desc:"RÃ©f : Ml454<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p16.jpg", title:"Pochette Vitaa", desc:"RÃ©f : Ml455<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p17.jpg", title:"Pochette Celia", desc:"RÃ©f : Ml456<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p18.jpg", title:"Pochette Nina", desc:"RÃ©f : Ml457<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p19.jpg", title:"Sac Sport Chic", desc:"Style et confort", price:"68,00 â‚¬" },
        { img:"assets/p20.jpg", title:"Pochette Dina", desc:"RÃ©f : Ml458<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p21.jpg", title:"Pochette Mira", desc:"RÃ©f : Ml459<br>Hauteur 17cm, Long 10cm", price:"17,50 â‚¬" },
        { img:"assets/p22.jpg", title:"Sac Joy", desc:"RÃ©f : PF908<br>Hauteur 35cm, Long 42cm", price:"65,00 â‚¬" },
        { img:"assets/p23.jpg", title:"Sac Liana", desc:"RÃ©f : PF909<br>Hauteur 35cm, Long 42cm", price:"65,00 â‚¬" },
        { img:"assets/p24.jpg", title:"Sac Luxe", desc:"PiÃ¨ce dâ€™exception", price:"120,00 â‚¬" }
      ];

      const productsSection = document.getElementById('tous-les-sacs');
      const modal = document.getElementById('productModal');
      const modalContent = modal.querySelector('.modal-content');
      const modalImg = document.getElementById('modalImg');
      const modalTitle = document.getElementById('modalTitle');
      const modalDesc = document.getElementById('modalDesc');
      const modalPrice = document.getElementById('modalPrice');
      const modalAddBtn = document.getElementById('modalAddBtn');
      const closeModalBtn = document.getElementById('closeModal');
      const cartDrawer = document.getElementById('cartDrawer');
      const cartItemsEl = document.getElementById('cartItems');
      const cartTotalEl = document.getElementById('cartTotal');
      const cartToggle = document.getElementById('cartToggle');
      const closeCartBtn = document.getElementById('closeCartBtn');
      const clearCartBtn = document.getElementById('clearCartBtn');
      const checkoutBtn = document.getElementById('checkoutBtn');
      const STORAGE_KEY = 'elle_cart_v1';
      let cart = [];

      function loadCart(){try{cart=JSON.parse(localStorage.getItem(STORAGE_KEY))||[];}catch(e){cart=[];}}
      function saveCart(){localStorage.setItem(STORAGE_KEY,JSON.stringify(cart));}
      function parsePrice(str){return parseFloat(str.replace(/[^\d,.-]/g,'').replace(',','.'))||0;}
      function getCartCount(){return cart.reduce((s,it)=>s+it.qty,0);}

      function renderProducts(){
        productsSection.innerHTML = products.map((p,i)=>`
          <div class="card" data-index="${i}" role="article" aria-label="${p.title}">
            <img loading="lazy" src="${p.img}" alt="${p.title}">
            <h3>${p.title}</h3>
            <p>${p.desc.replace(/<br\s*\/?>/gi,' ')}</p>
            <p class="price">${p.price}</p>
            <button type="button" class="add-btn">Ajouter</button>
          </div>
        `).join('');
      }

      function renderCart(){
        if(!cart.length){cartItemsEl.innerHTML='<div>Votre panier est vide.</div>'; cartTotalEl.textContent='0,00 â‚¬'; cartToggle.textContent=`ðŸ‘œ Panier (0)`; return;}
        cartItemsEl.innerHTML = cart.map(item=>{
          const subtotal=item.price*item.qty;
          return `<div class="cart-item" data-id="${item.id}">
            <img src="${item.img}" alt="${item.title}" loading="lazy">
            <div class="meta">
              <h4>${item.title}</h4>
              <div style="display:flex;justify-content:space-between;align-items:center;">
                <div class="qty-controls" data-id="${item.id}">
                  <button type="button" class="dec-btn">âˆ’</button>
                  <span class="qty">${item.qty}</span>
                  <button type="button" class="inc-btn">+</button>
                </div>
                <div style="text-align:right;">
                  <div>${priceFormatter(item.price)}</div>
                  <div style="font-weight:bold;">${priceFormatter(subtotal)}</div>
                </div>
              </div>
            </div>
          </div>`;
        }).join('');
        const total=cart.reduce((s,it)=>s+it.price*it.qty,0);
        cartTotalEl.textContent=priceFormatter(total);
        cartToggle.textContent=`ðŸ‘œ Panier (${getCartCount()})`;
      }

      function addToCartFromProductIndex(idx,qty=1){
        const p=products[idx];
        if(!p) return;
        const id=idx;
        const price=parsePrice(p.price);
        const existing=cart.find(item=>item.id===id);
        if(existing) existing.qty+=qty;
        else cart.push({id,title:p.title,price,img:p.img,qty});
        saveCart();
        renderCart();
      }

      function priceFormatter(v){return v.toLocaleString('fr-FR',{minimumFractionDigits:2,maximumFractionDigits:2})+' â‚¬';}

      // Render
      renderProducts();
      loadCart();
      renderCart();

      // Event: ouvrir modal
      productsSection.addEventListener('click',e=>{
        const card=e.target.closest('.card');
        if(!card) return;
        const idx=parseInt(card.dataset.index);
        const p=products[idx];
        if(!p) return;
        modalImg.src=p.img; modalImg.alt=p.title;
        modalTitle.textContent=p.title;
        modalDesc.innerHTML=p.desc;
        modalPrice.textContent=p.price;
        modalAddBtn.onclick=()=>{addToCartFromProductIndex(idx); modal.setAttribute('aria-hidden','true');};
        modal.setAttribute('aria-hidden','false');
      });

      closeModalBtn.addEventListener('click',()=>modal.setAttribute('aria-hidden','true'));
      modal.addEventListener('click',e=>{if(e.target===modal) modal.setAttribute('aria-hidden','true');});

      // Cart toggle
      cartToggle.addEventListener('click',()=>{
        const hidden=cartDrawer.getAttribute('aria-hidden')==='true';
        cartDrawer.setAttribute('aria-hidden',!hidden);
      });
      closeCartBtn.addEventListener('click',()=>cartDrawer.setAttribute('aria-hidden','true'));

      // Cart actions
      cartItemsEl.addEventListener('click',e=>{
        const id=parseInt(e.target.closest('.qty-controls')?.dataset.id);
        if(id==null) return;
        const item=cart.find(it=>it.id===id); if(!item) return;
        if(e.target.classList.contains('inc-btn')) item.qty++;
        if(e.target.classList.contains('dec-btn')) item.qty=item.qty>1?item.qty-1:1;
        saveCart(); renderCart();
      });

      clearCartBtn.addEventListener('click',()=>{cart=[];saveCart();renderCart();});
      checkoutBtn.addEventListener('click',()=>{window.location.href='cart.html';});
    });
  </script>
</body>
</html>
